{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Video } from 'expo-av';\nimport { Icon } from '@rneui/themed';\nimport apiService from \"../api/apiService\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width,\n  height = _Dimensions$get.height;\nvar VIDEO_HEIGHT = width * 1.5;\nvar ShortVideosScreen = function ShortVideosScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    videos = _useState2[0],\n    setVideos = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    currentVideoIndex = _useState8[0],\n    setCurrentVideoIndex = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    showComments = _useState0[0],\n    setShowComments = _useState0[1];\n  var _useState1 = useState(null),\n    _useState10 = _slicedToArray(_useState1, 2),\n    selectedVideo = _useState10[0],\n    setSelectedVideo = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    commentText = _useState12[0],\n    setCommentText = _useState12[1];\n  var _useState13 = useState(new Set()),\n    _useState14 = _slicedToArray(_useState13, 2),\n    likedVideos = _useState14[0],\n    setLikedVideos = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    isPaused = _useState16[0],\n    setIsPaused = _useState16[1];\n  var videoRefs = useRef([]);\n  var viewabilityConfig = {\n    itemVisiblePercentThreshold: 50\n  };\n  var handleViewableItemsChanged = useCallback(function (_ref) {\n    var viewableItems = _ref.viewableItems;\n    if (viewableItems.length > 0) {\n      setCurrentVideoIndex(viewableItems[0].index);\n    }\n  }, []);\n  useEffect(function () {\n    loadVideos();\n    return function () {\n      videoRefs.current.forEach(function (ref) {\n        if (ref) {\n          ref.stopAsync();\n        }\n      });\n    };\n  }, []);\n  var loadVideos = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var data = yield apiService.getShortVideos();\n        setVideos(data);\n        setError(null);\n      } catch (err) {\n        setError('Failed to load videos. Please try again later.');\n        console.error('Error loading videos:', err);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function loadVideos() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleVideoPress = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (videoRefs.current[currentVideoIndex]) {\n        if (isPaused) {\n          yield videoRefs.current[currentVideoIndex].playAsync();\n        } else {\n          yield videoRefs.current[currentVideoIndex].pauseAsync();\n        }\n        setIsPaused(!isPaused);\n      }\n    });\n    return function handleVideoPress() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleLike = function handleLike(videoId) {\n    setLikedVideos(function (prev) {\n      var newLikedVideos = new Set(prev);\n      if (newLikedVideos.has(videoId)) {\n        newLikedVideos.delete(videoId);\n      } else {\n        newLikedVideos.add(videoId);\n      }\n      return newLikedVideos;\n    });\n  };\n  var handleShare = function () {\n    var _ref4 = _asyncToGenerator(function* (video) {\n      try {\n        yield Share.share({\n          message: `Check out this amazing hotel video: ${video.title}\\n${video.url}`,\n          title: video.title\n        });\n      } catch (error) {\n        console.error('Error sharing video:', error);\n      }\n    });\n    return function handleShare(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var handleComment = function handleComment(video) {\n    setSelectedVideo(video);\n    setShowComments(true);\n  };\n  var submitComment = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      if (!commentText.trim() || !selectedVideo) return;\n      try {\n        var newComment = {\n          id: Date.now(),\n          text: commentText,\n          userId: 'currentUser',\n          timestamp: new Date().toISOString()\n        };\n        setVideos(function (prevVideos) {\n          return prevVideos.map(function (video) {\n            return video.id === selectedVideo.id ? _objectSpread(_objectSpread({}, video), {}, {\n              comments: [].concat(_toConsumableArray(video.comments || []), [newComment])\n            }) : video;\n          });\n        });\n        setCommentText('');\n      } catch (error) {\n        console.error('Error posting comment:', error);\n      }\n    });\n    return function submitComment() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var renderVideo = function renderVideo(_ref6) {\n    var _item$comments;\n    var item = _ref6.item,\n      index = _ref6.index;\n    var isCurrentVideo = index === currentVideoIndex;\n    var isLiked = likedVideos.has(item.id);\n    return _jsxs(View, {\n      style: styles.videoContainer,\n      children: [_jsxs(TouchableOpacity, {\n        activeOpacity: 1,\n        onPress: handleVideoPress,\n        style: styles.videoWrapper,\n        children: [_jsx(Video, {\n          ref: function ref(_ref7) {\n            return videoRefs.current[index] = _ref7;\n          },\n          source: item.videoUrl,\n          style: styles.video,\n          resizeMode: \"cover\",\n          shouldPlay: isCurrentVideo && !isPaused,\n          isLooping: true,\n          useNativeControls: false,\n          onError: function onError(error) {\n            console.error('Video error:', error);\n            setError('Failed to load video');\n          }\n        }), isPaused && isCurrentVideo && _jsx(View, {\n          style: styles.playPauseOverlay,\n          children: _jsx(Icon, {\n            name: isPaused ? \"play\" : \"pause\",\n            type: \"ionicon\",\n            size: 50,\n            color: \"white\"\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.videoInfo,\n        children: [_jsx(Text, {\n          style: styles.videoTitle,\n          children: item.title\n        }), _jsx(Text, {\n          style: styles.videoDescription,\n          children: item.description\n        })]\n      }), _jsxs(View, {\n        style: styles.rightActions,\n        children: [_jsxs(TouchableOpacity, {\n          style: styles.actionButton,\n          onPress: function onPress() {\n            return handleLike(item.id);\n          },\n          children: [_jsx(Icon, {\n            name: isLiked ? \"heart\" : \"heart-outline\",\n            type: \"ionicon\",\n            size: 30,\n            color: isLiked ? \"red\" : \"white\"\n          }), _jsx(Text, {\n            style: styles.actionText,\n            children: item.likes + (isLiked ? 1 : 0)\n          })]\n        }), _jsxs(TouchableOpacity, {\n          style: styles.actionButton,\n          onPress: function onPress() {\n            return handleComment(item);\n          },\n          children: [_jsx(Icon, {\n            name: \"chatbubble-outline\",\n            type: \"ionicon\",\n            size: 30,\n            color: \"white\"\n          }), _jsx(Text, {\n            style: styles.actionText,\n            children: ((_item$comments = item.comments) == null ? void 0 : _item$comments.length) || 0\n          })]\n        }), _jsxs(TouchableOpacity, {\n          style: styles.actionButton,\n          onPress: function onPress() {\n            return handleShare(item);\n          },\n          children: [_jsx(Icon, {\n            name: \"share-social-outline\",\n            type: \"ionicon\",\n            size: 30,\n            color: \"white\"\n          }), _jsx(Text, {\n            style: styles.actionText,\n            children: \"Share\"\n          })]\n        })]\n      })]\n    });\n  };\n  if (loading) {\n    return _jsx(View, {\n      style: styles.centered,\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#007BFF\"\n      })\n    });\n  }\n  if (error) {\n    return _jsxs(View, {\n      style: styles.centered,\n      children: [_jsx(Text, {\n        style: styles.errorText,\n        children: error\n      }), _jsx(TouchableOpacity, {\n        style: styles.retryButton,\n        onPress: loadVideos,\n        children: _jsx(Text, {\n          style: styles.retryButtonText,\n          children: \"Retry\"\n        })\n      })]\n    });\n  }\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(FlatList, {\n      data: videos,\n      renderItem: renderVideo,\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      },\n      pagingEnabled: true,\n      showsVerticalScrollIndicator: false,\n      onViewableItemsChanged: handleViewableItemsChanged,\n      viewabilityConfig: viewabilityConfig,\n      initialNumToRender: 3,\n      maxToRenderPerBatch: 3,\n      windowSize: 3\n    }), _jsx(Modal, {\n      visible: showComments,\n      animationType: \"slide\",\n      transparent: true,\n      onRequestClose: function onRequestClose() {\n        return setShowComments(false);\n      },\n      children: _jsx(View, {\n        style: styles.modalContainer,\n        children: _jsxs(View, {\n          style: styles.modalContent,\n          children: [_jsxs(View, {\n            style: styles.modalHeader,\n            children: [_jsx(Text, {\n              style: styles.modalTitle,\n              children: \"Comments\"\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return setShowComments(false);\n              },\n              children: _jsx(Icon, {\n                name: \"close\",\n                type: \"ionicon\",\n                size: 24,\n                color: \"black\"\n              })\n            })]\n          }), _jsx(FlatList, {\n            data: (selectedVideo == null ? void 0 : selectedVideo.comments) || [],\n            renderItem: function renderItem(_ref8) {\n              var item = _ref8.item;\n              return _jsxs(View, {\n                style: styles.commentItem,\n                children: [_jsx(Text, {\n                  style: styles.commentText,\n                  children: item.text\n                }), _jsx(Text, {\n                  style: styles.commentTime,\n                  children: new Date(item.timestamp).toLocaleDateString()\n                })]\n              });\n            },\n            keyExtractor: function keyExtractor(item) {\n              return item.id.toString();\n            },\n            style: styles.commentsList\n          }), _jsxs(KeyboardAvoidingView, {\n            behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n            style: styles.commentInputContainer,\n            children: [_jsx(TextInput, {\n              style: styles.commentInput,\n              placeholder: \"Add a comment...\",\n              value: commentText,\n              onChangeText: setCommentText\n            }), _jsx(TouchableOpacity, {\n              style: styles.submitButton,\n              onPress: submitComment,\n              children: _jsx(Text, {\n                style: styles.submitButtonText,\n                children: \"Post\"\n              })\n            })]\n          })]\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000'\n  },\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#000'\n  },\n  videoContainer: {\n    width: width,\n    height: VIDEO_HEIGHT,\n    backgroundColor: '#000'\n  },\n  video: {\n    width: '100%',\n    height: '100%'\n  },\n  videoInfo: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    padding: 16,\n    backgroundColor: 'rgba(0,0,0,0.5)'\n  },\n  videoTitle: {\n    color: '#fff',\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8\n  },\n  videoDescription: {\n    color: '#fff',\n    fontSize: 14\n  },\n  rightActions: {\n    position: 'absolute',\n    right: 16,\n    bottom: 16,\n    alignItems: 'center'\n  },\n  actionButton: {\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  actionText: {\n    color: '#fff',\n    marginTop: 4\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)'\n  },\n  modalContent: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    height: height * 0.5,\n    backgroundColor: '#fff',\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  commentsList: {\n    flex: 1\n  },\n  commentItem: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  commentText: {\n    fontSize: 16\n  },\n  commentTime: {\n    fontSize: 12,\n    color: '#666',\n    marginTop: 4\n  },\n  commentInputContainer: {\n    flexDirection: 'row',\n    padding: 16,\n    borderTopWidth: 1,\n    borderTopColor: '#eee'\n  },\n  commentInput: {\n    flex: 1,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    marginRight: 8\n  },\n  submitButton: {\n    backgroundColor: '#007BFF',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    justifyContent: 'center'\n  },\n  submitButtonText: {\n    color: '#fff',\n    fontWeight: 'bold'\n  },\n  errorText: {\n    color: '#fff',\n    fontSize: 16,\n    marginBottom: 16,\n    textAlign: 'center'\n  },\n  retryButton: {\n    backgroundColor: '#007BFF',\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5\n  },\n  retryButtonText: {\n    color: '#fff',\n    fontSize: 16\n  },\n  videoWrapper: {\n    width: '100%',\n    height: '100%',\n    position: 'relative'\n  },\n  playPauseOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0,0,0,0.3)'\n  }\n});\nexport default ShortVideosScreen;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","View","Text","StyleSheet","FlatList","Dimensions","ActivityIndicator","TouchableOpacity","Modal","TextInput","KeyboardAvoidingView","Platform","Share","SafeAreaView","Video","Icon","apiService","jsx","_jsx","jsxs","_jsxs","_Dimensions$get","get","width","height","VIDEO_HEIGHT","ShortVideosScreen","_useState","_useState2","_slicedToArray","videos","setVideos","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useState7","_useState8","currentVideoIndex","setCurrentVideoIndex","_useState9","_useState0","showComments","setShowComments","_useState1","_useState10","selectedVideo","setSelectedVideo","_useState11","_useState12","commentText","setCommentText","_useState13","Set","_useState14","likedVideos","setLikedVideos","_useState15","_useState16","isPaused","setIsPaused","videoRefs","viewabilityConfig","itemVisiblePercentThreshold","handleViewableItemsChanged","_ref","viewableItems","length","index","loadVideos","current","forEach","ref","stopAsync","_ref2","_asyncToGenerator","data","getShortVideos","err","console","apply","arguments","handleVideoPress","_ref3","playAsync","pauseAsync","handleLike","videoId","prev","newLikedVideos","has","delete","add","handleShare","_ref4","video","share","message","title","url","_x","handleComment","submitComment","_ref5","trim","newComment","id","Date","now","text","userId","timestamp","toISOString","prevVideos","map","_objectSpread","comments","concat","_toConsumableArray","renderVideo","_ref6","_item$comments","item","isCurrentVideo","isLiked","style","styles","videoContainer","children","activeOpacity","onPress","videoWrapper","source","videoUrl","resizeMode","shouldPlay","isLooping","useNativeControls","onError","playPauseOverlay","name","type","size","color","videoInfo","videoTitle","videoDescription","description","rightActions","actionButton","actionText","likes","centered","errorText","retryButton","retryButtonText","container","renderItem","keyExtractor","toString","pagingEnabled","showsVerticalScrollIndicator","onViewableItemsChanged","initialNumToRender","maxToRenderPerBatch","windowSize","visible","animationType","transparent","onRequestClose","modalContainer","modalContent","modalHeader","modalTitle","_ref8","commentItem","commentTime","toLocaleDateString","commentsList","behavior","OS","commentInputContainer","commentInput","placeholder","value","onChangeText","submitButton","submitButtonText","create","flex","backgroundColor","justifyContent","alignItems","position","bottom","left","right","padding","fontSize","fontWeight","marginBottom","marginTop","borderTopLeftRadius","borderTopRightRadius","flexDirection","borderBottomWidth","borderBottomColor","borderTopWidth","borderTopColor","borderWidth","borderColor","borderRadius","paddingHorizontal","paddingVertical","marginRight","textAlign","top"],"sources":["C:/Users/LEGION/Desktop/LAB Projects/bookingapp-phase02/src/screens/ShortVideosScreen.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  FlatList,\r\n  Dimensions,\r\n  ActivityIndicator,\r\n  TouchableOpacity,\r\n  Modal,\r\n  TextInput,\r\n  KeyboardAvoidingView,\r\n  Platform,\r\n  Share,\r\n} from 'react-native';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { Video } from 'expo-av';\r\nimport { Icon } from '@rneui/themed';\r\nimport apiService from '../api/apiService';\r\n\r\nconst { width, height } = Dimensions.get('window');\r\nconst VIDEO_HEIGHT = width * 1.5; // 3:2 aspect ratio\r\n\r\nconst ShortVideosScreen = () => {\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n  const [commentText, setCommentText] = useState('');\r\n  const [likedVideos, setLikedVideos] = useState(new Set());\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const videoRefs = useRef([]);\r\n\r\n  const viewabilityConfig = {\r\n    itemVisiblePercentThreshold: 50,\r\n  };\r\n\r\n  const handleViewableItemsChanged = useCallback(({ viewableItems }) => {\r\n    if (viewableItems.length > 0) {\r\n      setCurrentVideoIndex(viewableItems[0].index);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadVideos();\r\n    // Cleanup function to stop all videos when leaving the screen\r\n    return () => {\r\n      videoRefs.current.forEach(ref => {\r\n        if (ref) {\r\n          ref.stopAsync();\r\n        }\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  const loadVideos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await apiService.getShortVideos();\r\n      setVideos(data);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('Failed to load videos. Please try again later.');\r\n      console.error('Error loading videos:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleVideoPress = async () => {\r\n    if (videoRefs.current[currentVideoIndex]) {\r\n      if (isPaused) {\r\n        await videoRefs.current[currentVideoIndex].playAsync();\r\n      } else {\r\n        await videoRefs.current[currentVideoIndex].pauseAsync();\r\n      }\r\n      setIsPaused(!isPaused);\r\n    }\r\n  };\r\n\r\n  const handleLike = (videoId) => {\r\n    setLikedVideos(prev => {\r\n      const newLikedVideos = new Set(prev);\r\n      if (newLikedVideos.has(videoId)) {\r\n        newLikedVideos.delete(videoId);\r\n      } else {\r\n        newLikedVideos.add(videoId);\r\n      }\r\n      return newLikedVideos;\r\n    });\r\n  };\r\n\r\n  const handleShare = async (video) => {\r\n    try {\r\n      await Share.share({\r\n        message: `Check out this amazing hotel video: ${video.title}\\n${video.url}`,\r\n        title: video.title,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error sharing video:', error);\r\n    }\r\n  };\r\n\r\n  const handleComment = (video) => {\r\n    setSelectedVideo(video);\r\n    setShowComments(true);\r\n  };\r\n\r\n  const submitComment = async () => {\r\n    if (!commentText.trim() || !selectedVideo) return;\r\n\r\n    try {\r\n      // In a real app, this would call an API to post the comment\r\n      const newComment = {\r\n        id: Date.now(),\r\n        text: commentText,\r\n        userId: 'currentUser', // Replace with actual user ID\r\n        timestamp: new Date().toISOString(),\r\n      };\r\n\r\n      setVideos(prevVideos => \r\n        prevVideos.map(video => \r\n          video.id === selectedVideo.id\r\n            ? { ...video, comments: [...(video.comments || []), newComment] }\r\n            : video\r\n        )\r\n      );\r\n\r\n      setCommentText('');\r\n    } catch (error) {\r\n      console.error('Error posting comment:', error);\r\n    }\r\n  };\r\n\r\n  const renderVideo = ({ item, index }) => {\r\n    const isCurrentVideo = index === currentVideoIndex;\r\n    const isLiked = likedVideos.has(item.id);\r\n\r\n    return (\r\n      <View style={styles.videoContainer}>\r\n        <TouchableOpacity \r\n          activeOpacity={1} \r\n          onPress={handleVideoPress}\r\n          style={styles.videoWrapper}\r\n        >\r\n          <Video\r\n            ref={ref => videoRefs.current[index] = ref}\r\n            source={item.videoUrl}\r\n            style={styles.video}\r\n            resizeMode=\"cover\"\r\n            shouldPlay={isCurrentVideo && !isPaused}\r\n            isLooping\r\n            useNativeControls={false}\r\n            onError={(error) => {\r\n              console.error('Video error:', error);\r\n              setError('Failed to load video');\r\n            }}\r\n          />\r\n          \r\n          {/* Play/Pause Icon Overlay */}\r\n          {isPaused && isCurrentVideo && (\r\n            <View style={styles.playPauseOverlay}>\r\n              <Icon \r\n                name={isPaused ? \"play\" : \"pause\"} \r\n                type=\"ionicon\" \r\n                size={50} \r\n                color=\"white\" \r\n              />\r\n            </View>\r\n          )}\r\n        </TouchableOpacity>\r\n        \r\n        {/* Video Info Overlay */}\r\n        <View style={styles.videoInfo}>\r\n          <Text style={styles.videoTitle}>{item.title}</Text>\r\n          <Text style={styles.videoDescription}>{item.description}</Text>\r\n        </View>\r\n\r\n        {/* Right Side Actions */}\r\n        <View style={styles.rightActions}>\r\n          <TouchableOpacity \r\n            style={styles.actionButton}\r\n            onPress={() => handleLike(item.id)}\r\n          >\r\n            <Icon \r\n              name={isLiked ? \"heart\" : \"heart-outline\"} \r\n              type=\"ionicon\" \r\n              size={30} \r\n              color={isLiked ? \"red\" : \"white\"} \r\n            />\r\n            <Text style={styles.actionText}>{item.likes + (isLiked ? 1 : 0)}</Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity \r\n            style={styles.actionButton}\r\n            onPress={() => handleComment(item)}\r\n          >\r\n            <Icon name=\"chatbubble-outline\" type=\"ionicon\" size={30} color=\"white\" />\r\n            <Text style={styles.actionText}>{item.comments?.length || 0}</Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity \r\n            style={styles.actionButton}\r\n            onPress={() => handleShare(item)}\r\n          >\r\n            <Icon name=\"share-social-outline\" type=\"ionicon\" size={30} color=\"white\" />\r\n            <Text style={styles.actionText}>Share</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={styles.centered}>\r\n        <ActivityIndicator size=\"large\" color=\"#007BFF\" />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <View style={styles.centered}>\r\n        <Text style={styles.errorText}>{error}</Text>\r\n        <TouchableOpacity style={styles.retryButton} onPress={loadVideos}>\r\n          <Text style={styles.retryButtonText}>Retry</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <FlatList\r\n        data={videos}\r\n        renderItem={renderVideo}\r\n        keyExtractor={(item) => item.id.toString()}\r\n        pagingEnabled\r\n        showsVerticalScrollIndicator={false}\r\n        onViewableItemsChanged={handleViewableItemsChanged}\r\n        viewabilityConfig={viewabilityConfig}\r\n        initialNumToRender={3}\r\n        maxToRenderPerBatch={3}\r\n        windowSize={3}\r\n      />\r\n\r\n      {/* Comments Modal */}\r\n      <Modal\r\n        visible={showComments}\r\n        animationType=\"slide\"\r\n        transparent={true}\r\n        onRequestClose={() => setShowComments(false)}\r\n      >\r\n        <View style={styles.modalContainer}>\r\n          <View style={styles.modalContent}>\r\n            <View style={styles.modalHeader}>\r\n              <Text style={styles.modalTitle}>Comments</Text>\r\n              <TouchableOpacity onPress={() => setShowComments(false)}>\r\n                <Icon name=\"close\" type=\"ionicon\" size={24} color=\"black\" />\r\n              </TouchableOpacity>\r\n            </View>\r\n\r\n            <FlatList\r\n              data={selectedVideo?.comments || []}\r\n              renderItem={({ item }) => (\r\n                <View style={styles.commentItem}>\r\n                  <Text style={styles.commentText}>{item.text}</Text>\r\n                  <Text style={styles.commentTime}>\r\n                    {new Date(item.timestamp).toLocaleDateString()}\r\n                  </Text>\r\n                </View>\r\n              )}\r\n              keyExtractor={(item) => item.id.toString()}\r\n              style={styles.commentsList}\r\n            />\r\n\r\n            <KeyboardAvoidingView\r\n              behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\r\n              style={styles.commentInputContainer}\r\n            >\r\n              <TextInput\r\n                style={styles.commentInput}\r\n                placeholder=\"Add a comment...\"\r\n                value={commentText}\r\n                onChangeText={setCommentText}\r\n              />\r\n              <TouchableOpacity\r\n                style={styles.submitButton}\r\n                onPress={submitComment}\r\n              >\r\n                <Text style={styles.submitButtonText}>Post</Text>\r\n              </TouchableOpacity>\r\n            </KeyboardAvoidingView>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#000',\r\n  },\r\n  centered: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#000',\r\n  },\r\n  videoContainer: {\r\n    width,\r\n    height: VIDEO_HEIGHT,\r\n    backgroundColor: '#000',\r\n  },\r\n  video: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  videoInfo: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    padding: 16,\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n  },\r\n  videoTitle: {\r\n    color: '#fff',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginBottom: 8,\r\n  },\r\n  videoDescription: {\r\n    color: '#fff',\r\n    fontSize: 14,\r\n  },\r\n  rightActions: {\r\n    position: 'absolute',\r\n    right: 16,\r\n    bottom: 16,\r\n    alignItems: 'center',\r\n  },\r\n  actionButton: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  actionText: {\r\n    color: '#fff',\r\n    marginTop: 4,\r\n  },\r\n  modalContainer: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n  },\r\n  modalContent: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    height: height * 0.5, // Half screen height\r\n    backgroundColor: '#fff',\r\n    borderTopLeftRadius: 20,\r\n    borderTopRightRadius: 20,\r\n  },\r\n  modalHeader: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 16,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  modalTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n  },\r\n  commentsList: {\r\n    flex: 1,\r\n  },\r\n  commentItem: {\r\n    padding: 16,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  commentText: {\r\n    fontSize: 16,\r\n  },\r\n  commentTime: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    marginTop: 4,\r\n  },\r\n  commentInputContainer: {\r\n    flexDirection: 'row',\r\n    padding: 16,\r\n    borderTopWidth: 1,\r\n    borderTopColor: '#eee',\r\n  },\r\n  commentInput: {\r\n    flex: 1,\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n    borderRadius: 20,\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 8,\r\n    marginRight: 8,\r\n  },\r\n  submitButton: {\r\n    backgroundColor: '#007BFF',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 8,\r\n    borderRadius: 20,\r\n    justifyContent: 'center',\r\n  },\r\n  submitButtonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n  },\r\n  errorText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    marginBottom: 16,\r\n    textAlign: 'center',\r\n  },\r\n  retryButton: {\r\n    backgroundColor: '#007BFF',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 10,\r\n    borderRadius: 5,\r\n  },\r\n  retryButtonText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n  },\r\n  videoWrapper: {\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'relative',\r\n  },\r\n  playPauseOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0,0,0,0.3)',\r\n  },\r\n});\r\n\r\nexport default ShortVideosScreen; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}