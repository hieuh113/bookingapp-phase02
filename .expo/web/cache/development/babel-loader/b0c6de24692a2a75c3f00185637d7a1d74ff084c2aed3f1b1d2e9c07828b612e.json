{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Icon } from '@rneui/themed';\nimport { mockApi } from \"../api/apiService\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar TravelAssistant = function TravelAssistant() {\n  var _useState = useState([{\n      id: '1',\n      text: 'Hello! I\\'m your travel assistant. How can I help you today?',\n      sender: 'assistant'\n    }]),\n    _useState2 = _slicedToArray(_useState, 2),\n    messages = _useState2[0],\n    setMessages = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    inputText = _useState4[0],\n    setInputText = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var flatListRef = useRef();\n  var handleSend = function () {\n    var _ref = _asyncToGenerator(function* () {\n      if (!inputText.trim()) return;\n      var userMessage = {\n        id: Date.now().toString(),\n        text: inputText,\n        sender: 'user'\n      };\n      setMessages(function (prev) {\n        return [].concat(_toConsumableArray(prev), [userMessage]);\n      });\n      setInputText('');\n      setLoading(true);\n      try {\n        var response = yield mockApi.getTravelAssistantResponse(inputText);\n        var assistantMessage = {\n          id: (Date.now() + 1).toString(),\n          text: response.message,\n          sender: 'assistant'\n        };\n        setMessages(function (prev) {\n          return [].concat(_toConsumableArray(prev), [assistantMessage]);\n        });\n      } catch (error) {\n        var errorMessage = {\n          id: (Date.now() + 1).toString(),\n          text: 'Sorry, I encountered an error. Please try again.',\n          sender: 'assistant'\n        };\n        setMessages(function (prev) {\n          return [].concat(_toConsumableArray(prev), [errorMessage]);\n        });\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleSend() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var renderMessage = function renderMessage(_ref2) {\n    var item = _ref2.item;\n    return _jsx(View, {\n      style: [styles.messageContainer, item.sender === 'user' ? styles.userMessage : styles.assistantMessage],\n      children: _jsx(Text, {\n        style: styles.messageText,\n        children: item.text\n      })\n    });\n  };\n  return _jsxs(KeyboardAvoidingView, {\n    behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n    style: styles.container,\n    children: [_jsx(FlatList, {\n      ref: flatListRef,\n      data: messages,\n      renderItem: renderMessage,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      contentContainerStyle: styles.messagesContainer,\n      onContentSizeChange: function onContentSizeChange() {\n        var _flatListRef$current;\n        return (_flatListRef$current = flatListRef.current) == null ? void 0 : _flatListRef$current.scrollToEnd();\n      }\n    }), _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(TextInput, {\n        style: styles.input,\n        value: inputText,\n        onChangeText: setInputText,\n        placeholder: \"Ask me anything about your travel...\",\n        placeholderTextColor: \"#666\",\n        multiline: true\n      }), _jsx(TouchableOpacity, {\n        style: styles.sendButton,\n        onPress: handleSend,\n        disabled: loading,\n        children: loading ? _jsx(ActivityIndicator, {\n          color: \"#FFFFFF\"\n        }) : _jsx(Icon, {\n          name: \"send\",\n          type: \"ionicon\",\n          color: \"#FFFFFF\",\n          size: 20\n        })\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FFFFFF'\n  },\n  messagesContainer: {\n    padding: 15\n  },\n  messageContainer: {\n    maxWidth: '80%',\n    padding: 12,\n    borderRadius: 12,\n    marginBottom: 10\n  },\n  userMessage: {\n    alignSelf: 'flex-end',\n    backgroundColor: '#007BFF'\n  },\n  assistantMessage: {\n    alignSelf: 'flex-start',\n    backgroundColor: '#F0F0F0'\n  },\n  messageText: {\n    fontSize: 16,\n    color: '#333333'\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    padding: 10,\n    borderTopWidth: 1,\n    borderTopColor: '#EEEEEE',\n    backgroundColor: '#FFFFFF'\n  },\n  input: {\n    flex: 1,\n    backgroundColor: '#F5F5F5',\n    borderRadius: 20,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    marginRight: 10,\n    fontSize: 16,\n    maxHeight: 100\n  },\n  sendButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: '#007BFF',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\nexport default TravelAssistant;","map":{"version":3,"names":["React","useState","useRef","View","Text","StyleSheet","TextInput","TouchableOpacity","FlatList","KeyboardAvoidingView","Platform","ActivityIndicator","Icon","mockApi","jsx","_jsx","jsxs","_jsxs","TravelAssistant","_useState","id","text","sender","_useState2","_slicedToArray","messages","setMessages","_useState3","_useState4","inputText","setInputText","_useState5","_useState6","loading","setLoading","flatListRef","handleSend","_ref","_asyncToGenerator","trim","userMessage","Date","now","toString","prev","concat","_toConsumableArray","response","getTravelAssistantResponse","assistantMessage","message","error","errorMessage","apply","arguments","renderMessage","_ref2","item","style","styles","messageContainer","children","messageText","behavior","OS","container","ref","data","renderItem","keyExtractor","contentContainerStyle","messagesContainer","onContentSizeChange","_flatListRef$current","current","scrollToEnd","inputContainer","input","value","onChangeText","placeholder","placeholderTextColor","multiline","sendButton","onPress","disabled","color","name","type","size","create","flex","backgroundColor","padding","maxWidth","borderRadius","marginBottom","alignSelf","fontSize","flexDirection","borderTopWidth","borderTopColor","paddingHorizontal","paddingVertical","marginRight","maxHeight","width","height","justifyContent","alignItems"],"sources":["C:/Users/LEGION/Desktop/LAB Projects/bookingapp-phase02/src/components/TravelAssistant.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  FlatList,\r\n  KeyboardAvoidingView,\r\n  Platform,\r\n  ActivityIndicator,\r\n} from 'react-native';\r\nimport { Icon } from '@rneui/themed';\r\nimport { mockApi } from '../api/apiService';\r\n\r\nconst TravelAssistant = () => {\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      id: '1',\r\n      text: 'Hello! I\\'m your travel assistant. How can I help you today?',\r\n      sender: 'assistant',\r\n    },\r\n  ]);\r\n  const [inputText, setInputText] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const flatListRef = useRef();\r\n\r\n  const handleSend = async () => {\r\n    if (!inputText.trim()) return;\r\n\r\n    const userMessage = {\r\n      id: Date.now().toString(),\r\n      text: inputText,\r\n      sender: 'user',\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputText('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Simulate AI response\r\n      const response = await mockApi.getTravelAssistantResponse(inputText);\r\n      \r\n      const assistantMessage = {\r\n        id: (Date.now() + 1).toString(),\r\n        text: response.message,\r\n        sender: 'assistant',\r\n      };\r\n\r\n      setMessages(prev => [...prev, assistantMessage]);\r\n    } catch (error) {\r\n      const errorMessage = {\r\n        id: (Date.now() + 1).toString(),\r\n        text: 'Sorry, I encountered an error. Please try again.',\r\n        sender: 'assistant',\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderMessage = ({ item }) => (\r\n    <View\r\n      style={[\r\n        styles.messageContainer,\r\n        item.sender === 'user' ? styles.userMessage : styles.assistantMessage,\r\n      ]}\r\n    >\r\n      <Text style={styles.messageText}>{item.text}</Text>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <KeyboardAvoidingView\r\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\r\n      style={styles.container}\r\n    >\r\n      <FlatList\r\n        ref={flatListRef}\r\n        data={messages}\r\n        renderItem={renderMessage}\r\n        keyExtractor={item => item.id}\r\n        contentContainerStyle={styles.messagesContainer}\r\n        onContentSizeChange={() => flatListRef.current?.scrollToEnd()}\r\n      />\r\n      \r\n      <View style={styles.inputContainer}>\r\n        <TextInput\r\n          style={styles.input}\r\n          value={inputText}\r\n          onChangeText={setInputText}\r\n          placeholder=\"Ask me anything about your travel...\"\r\n          placeholderTextColor=\"#666\"\r\n          multiline\r\n        />\r\n        <TouchableOpacity\r\n          style={styles.sendButton}\r\n          onPress={handleSend}\r\n          disabled={loading}\r\n        >\r\n          {loading ? (\r\n            <ActivityIndicator color=\"#FFFFFF\" />\r\n          ) : (\r\n            <Icon name=\"send\" type=\"ionicon\" color=\"#FFFFFF\" size={20} />\r\n          )}\r\n        </TouchableOpacity>\r\n      </View>\r\n    </KeyboardAvoidingView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#FFFFFF',\r\n  },\r\n  messagesContainer: {\r\n    padding: 15,\r\n  },\r\n  messageContainer: {\r\n    maxWidth: '80%',\r\n    padding: 12,\r\n    borderRadius: 12,\r\n    marginBottom: 10,\r\n  },\r\n  userMessage: {\r\n    alignSelf: 'flex-end',\r\n    backgroundColor: '#007BFF',\r\n  },\r\n  assistantMessage: {\r\n    alignSelf: 'flex-start',\r\n    backgroundColor: '#F0F0F0',\r\n  },\r\n  messageText: {\r\n    fontSize: 16,\r\n    color: '#333333',\r\n  },\r\n  inputContainer: {\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n    borderTopWidth: 1,\r\n    borderTopColor: '#EEEEEE',\r\n    backgroundColor: '#FFFFFF',\r\n  },\r\n  input: {\r\n    flex: 1,\r\n    backgroundColor: '#F5F5F5',\r\n    borderRadius: 20,\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 10,\r\n    marginRight: 10,\r\n    fontSize: 16,\r\n    maxHeight: 100,\r\n  },\r\n  sendButton: {\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#007BFF',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport default TravelAssistant; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}